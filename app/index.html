<!DOCTYPE html>
<html lang = 'en' ng-app = "sudoku">
	
	<head>
		
		<meta charset="utf-8">
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">		
		
		<script type = 'text/javascript' src = 'lib/angular/angular.min.js'></script>
		<script type = 'text/javascript' src = 'js/sudoku.js'></script>
		
		<link rel="stylesheet" href="css/style.css">
		<link rel="stylesheet" href="lib/fontawesome/css/font-awesome.min.css">

		<title>Sudoku Game</title>
		
	</head>

	<body ng-controller = "mainCtrl">
		
		<section id = 'header' class = 'align'>
				
			<h1>Play Sudoku!</h1>
			
		</section>
			
		<section id = 'sudoku-board' class = 'align' ng-class = "{'hints': board.validated}">
				
			<div class = 'region' ng-repeat = "region in board.regions">
				<div class = 'resp'>
					
					<div class = 'tile' 
						 ng-repeat = "tile in region.tiles" 
						 ng-class = "{'locked': tile.lock, 'invalid': !tile.valid}">
							 
						<div class = 'resp'>
							
							<div class = 'v-align' 
								 ng-click = "board.hideTileOptions(); tile.showOptions();"
								 ng-if = "(tile.guesses.length <= 1)">
								
								<span ng-repeat = "guess in tile.guesses | orderBy: number">{{guess}}</span>
								
							</div>
							
							<div class = 'options' 
								 ng-if = "(!tile.lock)"
								 ng-class = "(tile.showingOptions) ? 'show' : ''">
								
								<div class = 'option' 
									 ng-repeat = "option in tile.options" 
									 ng-class = "{'selected': option.selected}"
									 ng-click = "board.selectTileOption(region, tile, option);">
											
									<div class = 'resp'>
										
										<div class = 'v-align'>
											<span>{{option.number}}</span>
										</div>
										
									</div>		
								</div>
								
							</div>
							
							<div class = 'caret'></div>
						
						</div>
					</div>
				
				</div>
				
			</div>
			
			<div class = 'win modal' ng-class = "{'show': board.win}">
				<div class = 'v-align'>
					<div class = 'inner'>
						
						<h2>Congratulations, you win!</h2>
						
						<span class = 'button' ng-click = "board.reset();">Play Again</span>
						
						<div class = 'timer'>Completed in: {{board.timer | filterTime}}</div>
					
					</div>
				</div>
			</div>
			
			<div class = 'play modal' ng-class = "{'show': !board.loaded}">
				<div class = 'v-align'>
					<div class = 'inner'>
						
						<h2>Welcome, press play to get started!</h2>
						
						<span class = 'button' ng-click = "board.loadDefault();">Play</span>
					
					</div>
				</div>
			</div>
			
			<div class = 'clear'></div>
			
		</section>
		
		<section id = 'settings' class = 'align'>
					
			<div class = 'button' ng-click = "board.reset();"><i class="fa fa-refresh"></i> Reset</div>
			<div class = 'button validate' ng-class = "(board.validated) ? 'selected' : ''" ng-click = "board.toggleValidation();">
				<span>Validate</span>
				
				<div class = 'toggle'>
					<div class = 'knob'>
						<div class = 'inner'></div>
					</div>
				</div>	
			</div>
			
			<div class = 'timer'><i class="fa fa-clock-o"></i> {{board.timer | filterTime}}</div>
				
		</section>
		
	</body>
	
</html>